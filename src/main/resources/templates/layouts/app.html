<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
>
  <head>
    <title layout:title-pattern="$CONTENT_TITLE | $LAYOUT_TITLE">
      AizaTransport?
    </title>
    <!-- Common CSS links, e.g., Bootstrap CDN link -->
    <link rel="stylesheet" th:href="@{/bs5.3/css/bootstrap.min.css}" />

    <!-- FA-Icons -->
    <link rel="stylesheet" th:href="@{/fa/css/all.min.css}" />

    <script th:src="@{/bs5.3/js/bootstrap.bundle.min.js}" defer></script>
    <script th:src="@{/fa/js/all.min.js}" defer></script>
    <script th:src="@{/chartjs/chart.umd.min.js}"></script>

    <!-- Page-specific scripts can be included here -->
    <th:block layout:fragment="script"></th:block>

    <style>
      * {
        border-radius: 0 !important;
      }

      body {
        display: flex;
        min-height: 100vh;
        flex-direction: column;
      }

      .navbar {
        position: fixed;
        z-index: 200;
        width: 100vw;
        background-color: #000;
        border-bottom: 2px solid #333;
      }

      .navbar-brand {
        color: #fff !important;
        font-weight: 600;
        letter-spacing: 1px;
      }

      .sidebar {
        position: fixed;
        top: 56px;
        left: 0;
        bottom: 0;
        width: 250px;
        height: 100%;
        background-color: #1a1a1a;
        border-right: 2px solid #333;
        overflow-y: auto;
        z-index: 100;
      }

      .sidebar-nav {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .sidebar-nav .nav-item {
        border-bottom: 1px solid #333;
      }

      .sidebar-nav .nav-link {
        color: #ccc !important;
        padding: 1rem 1.5rem;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        transition: all 0.3s;
        border-left: 3px solid transparent;
        text-decoration: none;
      }

      .sidebar-nav .nav-link:hover {
        background-color: #2a2a2a;
        color: #fff !important;
        border-left-color: #fff;
      }

      .sidebar-nav .nav-link.active {
        background-color: #333;
        color: #fff !important;
        border-left-color: #fff;
      }

      .sidebar-nav .nav-link i {
        width: 20px;
        text-align: center;
      }

      .sidebar-section-title {
        color: #888;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1px;
        padding: 1rem 1.5rem 0.5rem 1.5rem;
        margin-top: 0.5rem;
      }

      .main-wrapper {
        margin-left: 250px;
        flex: 1;
        display: flex;
        flex-direction: column;
      }

      main {
        flex: 1;
        margin-top: 3em;
        background-color: #f5f5f5;
      }

      footer {
        background-color: #000;
        color: #ccc;
        border-top: 2px solid #333;
        padding: 2rem 0;
      }

      footer a {
        color: #999;
        text-decoration: none;
        transition: color 0.3s;
      }

      footer a:hover {
        color: #fff;
      }

      .btn {
        border-radius: 0;
        transition: all 0.3s;
      }

      .btn-primary {
        background-color: #000;
        border: 1px solid #000;
        color: #fff;
      }

      .btn-primary:hover {
        background-color: #333;
        border: 1px solid #333;
      }

      .btn-outline-light {
        border: 1px solid #fff;
        color: #fff;
      }

      .btn-outline-light:hover {
        background-color: #fff;
        color: #000;
      }

      @media (max-width: 768px) {
        .sidebar {
          left: -250px;
          transition: left 0.3s;
        }

        .sidebar.show {
          left: 0;
        }

        .main-wrapper {
          margin-left: 0;
        }
      }
    </style>
  </head>
  <body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
      <div class="container-fluid px-4">
        <a class="navbar-brand" th:href="@{/}">AIZA TRANSPORT</a>
        <div class="ms-auto">
          <a class="btn btn-outline-light btn-sm" th:href="@{/logout}">
            <i class="fa-solid fa-right-from-bracket me-1"></i>
            Déconnexion
          </a>
        </div>
      </div>
    </nav>

    <!-- Sidebar -->
    <aside class="sidebar">
      <ul class="sidebar-nav">
        <!-- Dashboard -->
        <li class="nav-item">
          <a class="nav-link" th:href="@{/}">
            <i class="fa-solid fa-gauge"></i>
            <span>Tableau de bord</span>
          </a>
        </li>

        <!-- Ressources Section -->
        <li>
          <div class="sidebar-section-title">Transports</div>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:href="@{/vehicles}">
            <i class="fa-solid fa-car"></i>
            <span>Véhicules</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:href="@{/drivers}">
            <i class="fa-solid fa-user-tie"></i>
            <span>Chauffeurs</span>
          </a>
        </li>

        <!-- Trajets Section -->
        <li>
          <div class="sidebar-section-title">Destinations</div>
        </li>
        
        <li class="nav-item">
          <a class="nav-link" th:href="@{/routes}">
            <i class="fa-solid fa-route"></i>
            <span>Routes</span>
          </a>
        </li>
        
        <li class="nav-item">
          <a class="nav-link" th:href="@{/destinations}">
            <i class="fa-solid fa-map-marker-alt"></i>
            <span>Destinations</span>
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link" th:href="@{/trips}">
            <i class="fa-solid fa-road"></i>
            <span>Voyages</span>
          </a>
        </li>

        <!-- Gestion Section -->
        <li>
          <div class="sidebar-section-title">Gestion</div>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:href="@{/reservations}">
            <i class="fa-solid fa-ticket"></i>
            <span>Réservations</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:href="@{/tickets}">
            <i class="fa-solid fa-ticket"></i>
            <span>Tickets</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" th:href="@{/expenses}">
            <i class="fa-solid fa-money-bill-wave"></i>
            <span>Dépenses</span>
          </a>
        </li>
      </ul>
    </aside>

    <!-- Main Content Wrapper -->
    <div class="main-wrapper">
      <!-- Main Content -->
      <main>
        <div layout:fragment="content"></div>
      </main>

      <!-- Footer -->
      <footer>
        <div class="container">
          <div class="row">
            <div class="col-md-4">
              <h6 class="text-white mb-3">AIZA TRANSPORT</h6>
              <p class="small">
                Système professionnel de gestion de taxi-brousse pour des
                services de transport efficaces.
              </p>
            </div>
            <div class="col-md-4">
              <h6 class="text-white mb-3">Liens rapides</h6>
              <ul class="list-unstyled small">
                <li class="mb-2"><a th:href="@{/}">Tableau de bord</a></li>
                <li class="mb-2"><a th:href="@{/vehicles}">Véhicules</a></li>
                <li class="mb-2"><a th:href="@{/drivers}">Chauffeurs</a></li>
                <li class="mb-2"><a th:href="@{/trips}">Voyages</a></li>
              </ul>
            </div>
            <div class="col-md-4">
              <h6 class="text-white mb-3">Contact</h6>
              <p class="small mb-2">
                <i class="fa-solid fa-envelope me-2"></i>
                contact@aizatransport.mg
              </p>
              <p class="small mb-2">
                <i class="fa-solid fa-phone me-2"></i>
                +261 XX XX XXX XX
              </p>
              <p class="small">
                <i class="fa-solid fa-location-dot me-2"></i>
                Madagascar
              </p>
            </div>
          </div>
          <hr class="my-4" style="border-color: #333" />
          <div class="row">
            <div class="col-12 text-center small">
              <p class="mb-0">
                &copy; 2026 AIZA TRANSPORT. Tous droits réservés.
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>

    <th:block layout:fragment="script-bottom"></th:block>
  </body>
</html>
